<html ng-app = "finneas_stockholm">
    <head>
        <title>Finneas Stockholm</title>
        <link rel="stylesheet" type = "text/css" href="styles.css">
        <script src = "angular.min.js"></script> 
        <script src = "logger_controller.js"></script>
        <script src = "market_controller.js"></script>
        <script src = "main_module.js"></script>
        <script src = "controller_module.js"></script>
        <script src = "component_module.js"></script>
        <script src = "factory_module.js"></script>
    </head>

    <body>
        <div ng-cloak ng-controller = 'market_controller as market'>

            <select ng-model = 'market.selection'>
                <option ng-repeat = "ticker in market.tickers">{{ticker}}</option>
            </select>

            <!--Search Button-->
            <input type = "button" ng-click = "market.add()" ng-if="market.selection" value = "Add Stock">
            <input type = "button" ng-if = "!market.selection" value ="Add Stock" disabled>
            <!--Update Button-->

            <!--Clear Button-->
            <input type = "button" ng-if = "market.clearable" ng-click = "market.clear()" value = "Clear Search">
            <input type = "button" ng-if = "!market.clearable" value = "Clear Search" disabled>

            <span ng-if='market.stored'>
                <table>
                    <tr>
                    <td ng-repeat= "holding in market.portfolio.tickers">
                        <stock-tab ticker = "holding" price = "market.getStoredPrice(holding)"></stock-tab>
                    </td>
                    </tr>
                </table>
            </span>

        </div>
    </body>

</html>